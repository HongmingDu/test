<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<meta charset="utf-8"> 
<title></title> 
<link href="../css/main.css" rel="stylesheet" />
<link href="../css/project_detail.css" rel="stylesheet" />
<script src="../script/jquery.js" type="text/javascript"></script>
<script type="text/javascript">
    window.onresize = function(){
            var container = document.getElementsByClassName("container")[0];
            var line3 = document.getElementsByClassName("line3")[0]; 
            line3.style.width=container.clientWidth - 420+'px'; 
    };
    window.onload = function(){
        var line3 = document.getElementsByClassName("line3")[0]; 
        line3.style.width=document.documentElement.clientWidth - 420+'px'; 
        initProductList();
        onHover();
    };
    function onHover(){
            $('#more').hover( 
                function(){
                    $('#ul').show(); 
                },
                function(){
                    $('#ul').hide(); 
                });

                $('.ul').hover( 
                    function(){
                        $('.ul').show(); 
                    },
                    function(){
                        $('#ul').hide(); 
                    }
            );
    };
    function menuClick(val){
            var strHtml = "";
            switch(val){
                case "home":
                    strHtml = '<div><h2>Home</h2>';
                    break;
                case "dashboard":
                    strHtml = '<div><h2>DashBoard</h2>';
                    break;
                case "product":
                    initProductList();
                    onHover();
                    break;
                case "report":
                    strHtml = '<div><h2>Report</h2></div>';
                    break;
                case "setting":
                    strHtml = '<div><h2>Settings</h2></div>';
                    break;
                case "user":
                    strHtml = '<div><h2>Users</h2></div>';
                break;
                default:
                    strHtml = '<div><h2>Home</h2></div>';
                    break;
            }
            if(val!="product")
                document.getElementsByClassName("maincontent")[0].innerHTML = strHtml;
        };
        function allProducts(){
            var allproducts = document.getElementById("allproducts");
            var mostproducts = document.getElementById("mostproducts");
            var line1 = document.getElementsByClassName("line1")[0];
            var line2 = document.getElementsByClassName("line2")[0];
            
            var maindata = document.getElementsByClassName("maindata")[0];
            var tbdata = document.getElementsByClassName("tbdata")[0];
            maindata.innerHTML = tbdata.innerHTML;
            line1.style.background = "#6666ff";
            line1.style.width=allproducts.clientWidth+5+'px'; 
            line2.style.background = "#EDEDEE";
            line2.style.width=mostproducts.clientWidth+5+'px'; 
            getProductList();
        };
        function mostPolular(){
            var line1 = document.getElementsByClassName("line1")[0];
            var line2 = document.getElementsByClassName("line2")[0];
            var maindata = document.getElementsByClassName("maindata")[0];
            maindata.innerHTML = "<h2 style='margin:0px;'>Most polular</h2>";
            line1.style.background = "#EDEDEE";
            line2.style.background = "#6666ff";
        };
        function initProductList(){
            var maincontent = document.getElementsByClassName("maincontent")[0]; 
            var productlist = document.getElementsByClassName("productlist")[0]; 
            maincontent.innerHTML = productlist.innerHTML;
            allProducts();
        };
        function s4() { 
            return (((1+Math.random())*0x10000)|0).toString(16).substring(1); 
        }; 
        function guid(){
            return (s4()+s4()+"-"+s4()+"-"+s4()+"-"+s4()+"-"+s4()+s4()+s4()); 
        };
        function setProjDetailData(projectId){
            var projectList = JSON.parse(localStorage.ProjectList);
            var newProjectList = projectList.filter(function (value, index, array) {
                return value.Id === projectId;
            });
            var project = newProjectList[0];
            document.getElementById("ProjName").value = project.ProjName;
            document.getElementById("ProjType").value = project.ProjType;
            document.getElementById("Inventory").value = project.Inventory;
            document.getElementById("Price").value = project.Price;
        };
        function showDetail(){
            var box = document.getElementsByClassName('detail')[0];
            var mainContent = document.getElementsByClassName("maincontent")[0];
            mainContent.innerHTML = box.innerHTML;
        };
        function closedetail(){
            initProductList();
        };
        function checkAll(ck){
            var checkboxs = document.getElementsByName("ck");
            for(var i = 0 in checkboxs){
                checkboxs[i].checked=ck.checked;
            }
        };
        function mouseOver(){
            document.getElementById("ul").style.display="block";
        };
        function getProductList(){
            var projectList = [];
            var obj1 = new Object();
            obj1.Id = guid();
            obj1.ProjName = "Project111";
            obj1.ProjType = "Type111";
            obj1.Inventory = 100;
            obj1.Price = 100;
            projectList.push(obj1);

            var obj2 = new Object();
            obj2.Id = guid();
            obj2.ProjName = "Project222";
            obj2.ProjType = "Type222";
            obj2.Inventory = 200;
            obj2.Price = 200;
            projectList.push(obj2);

            var obj3 = new Object();
            obj3.Id = guid();
            obj3.ProjName = "Project333";
            obj3.ProjType = "Type333";
            obj3.Inventory = 300;
            obj3.Price = 300;
            projectList.push(obj3);

            var obj4 = new Object();
            obj4.Id = guid();
            obj4.ProjName = "Project444";
            obj4.ProjType = "Type444";
            obj4.Inventory = 400;
            obj4.Price = 400;
            projectList.push(obj4);

            var obj5 = new Object();
            obj5.Id = guid();
            obj5.ProjName = "Project555";
            obj5.ProjType = "Type555";
            obj5.Inventory = 500;
            obj5.Price = 500;
            projectList.push(obj5);

            var obj6 = new Object();
            obj6.Id = guid();
            obj6.ProjName = "Project666";
            obj6.ProjType = "Type666";
            obj6.Inventory = 600;
            obj6.Price = 600;
            projectList.push(obj6);
            
            var jsonData = JSON.stringify(projectList);
            localStorage.ProjectList = jsonData;
            var tb = document.getElementsByClassName("tb")[0];
            var tbody = document.createElement("tbody");
            for (var i = 0; i < projectList.length; i++) {
                var tr = document.createElement("tr");

                var td0 = document.createElement("td");
                var checkBox=document.createElement("input");  
                checkBox.setAttribute("type","checkbox");  
                checkBox.setAttribute("name",'ck');
                td0.appendChild(checkBox);
                tr.appendChild(td0);
                
                var td1 = document.createElement("td");
                var alink = document.createElement('a');
                alink.href = '#';
                alink.Id = projectList[i].Id;
                alink.style.textDecoration = 'none';
                alink.innerHTML = projectList[i].ProjName;
                alink.onclick = function(e){
                    var projId = e.target.Id;
                    showDetail();
                    setProjDetailData(projId);
                };
                td1.appendChild(alink);
                tr.appendChild(td1);

                var td2 = document.createElement("td");
                td2.innerHTML = projectList[i].ProjType;
                tr.appendChild(td2);

                var td3 = document.createElement("td");
                td3.innerHTML = projectList[i].Inventory;
                tr.appendChild(td3);

                var td4 = document.createElement("td");
                td4.innerHTML = projectList[i].Price;
                tr.appendChild(td4);

                tbody.appendChild(tr);
            }
            tb.appendChild(tbody);
        };
        function myHover(){
            alert("qwert");
        }
</script>
</head>
<body>
    <div class="container">
        <div class="leftmenu">
            <ul class="menu">
                <li>
                    <a href="#" onclick="menuClick('home');">
                        <svg xmlns="http://www.w3.org/2000/svg" class="svgimg" focusable="false" viewBox="0 0 24 24" aria-hidden="true" tabindex="-1" title="Home" data-ga-event-category="material-icons" data-ga-event-action="click" data-ga-event-label="Home"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"></path></svg>
                    </a>
                </li>
                <li><a href="#" onclick="menuClick('dashboard');">
                        <svg xmlns="http://www.w3.org/2000/svg" class="svgimg" focusable="false" viewBox="0 0 24 24" aria-hidden="true" tabindex="-1" title="Apps" data-ga-event-category="material-icons" data-ga-event-action="click" data-ga-event-label="Apps"><path d="M4 8h4V4H4v4zm6 12h4v-4h-4v4zm-6 0h4v-4H4v4zm0-6h4v-4H4v4zm6 0h4v-4h-4v4zm6-10v4h4V4h-4zm-6 4h4V4h-4v4zm6 6h4v-4h-4v4zm0 6h4v-4h-4v4z"></path></svg>
                    </a>
                </li>
                <li>
                    <a href="#" onclick="menuClick('product');">
                        <svg xmlns="http://www.w3.org/2000/svg" class="svgimg" focusable="false" viewBox="0 0 24 24" aria-hidden="true" tabindex="-1" title="LocalMall" data-ga-event-category="material-icons" data-ga-event-action="click" data-ga-event-label="LocalMall"><path d="M19 6h-2c0-2.76-2.24-5-5-5S7 3.24 7 6H5c-1.1 0-1.99.9-1.99 2L3 20c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-7-3c1.66 0 3 1.34 3 3H9c0-1.66 1.34-3 3-3zm0 10c-2.76 0-5-2.24-5-5h2c0 1.66 1.34 3 3 3s3-1.34 3-3h2c0 2.76-2.24 5-5 5z"></path></svg>
                    </a>
                </li>
                <li>
                    <a href="#" onclick="menuClick('report');">
                        <svg xmlns="http://www.w3.org/2000/svg" class="svgimg" focusable="false" viewBox="0 0 24 24" aria-hidden="true" tabindex="-1" title="DateRange" data-ga-event-category="material-icons" data-ga-event-action="click" data-ga-event-label="DateRange"><path d="M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"></path></svg>
                    </a>
                </li>
                <li>
                    <a href="#" onclick="menuClick('setting');">
                        <svg xmlns="http://www.w3.org/2000/svg" class="svgimg" focusable="false" viewBox="0 0 24 24" aria-hidden="true" tabindex="-1" title="Settings" data-ga-event-category="material-icons" data-ga-event-action="click" data-ga-event-label="Settings"><path d="M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"></path></svg>
                    </a>
                </li>
            </ul>
            <div class="usericon">
                <a href="#" onclick="menuClick('user');">
                    <svg xmlns="http://www.w3.org/2000/svg" class="svgimg" focusable="false" viewBox="0 0 24 24" aria-hidden="true" tabindex="-1" title="Person" data-ga-event-category="material-icons" data-ga-event-action="click" data-ga-event-label="Person"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"></path></svg>
                </a>
            </div>
        </div>
        <div class="maincontent">
            
        </div>
    </div>
    <div class="productlist" style="display: none;">
        <div class="content">
            <div class="header">
                <div class="headerleft">
                    <span>Products</span>
                </div>
                <div class="headerwright">
                    <input type="button" value="Add product"/>
                </div>
            </div> 
            <div class="title">
                <div class="search"><input type="text" placeholder="Search" /></div>
                <div class="operation">
                    <a href="#" class="operationitems" >
                        <svg xmlns="http://www.w3.org/2000/svg" class="svgimgsub" focusable="false" viewBox="0 0 24 24" aria-hidden="true" tabindex="-1" title="CloudDownload" data-ga-event-category="material-icons" data-ga-event-action="click" data-ga-event-label="CloudDownload"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM17 13l-5 5-5-5h3V9h4v4h3z"></path></svg>
                        <span class="suboperation">Export</span>
                    </a>
                    <a href="#" class="operationitems" >
                        <svg xmlns="http://www.w3.org/2000/svg" class="svgimgsub" focusable="false" viewBox="0 0 24 24" aria-hidden="true" tabindex="-1" title="CloudUpload" data-ga-event-category="material-icons" data-ga-event-action="click" data-ga-event-label="CloudUpload"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"></path></svg>
                        <span class="suboperation">Import</span>
                    </a>
                    <div id="more" class="operationitems1" ><a href="#"><span style="color: #5D69E1;">More</span><img src="../images/juhao.png" /></a>
                        <ul id="ul" class="more" style="display: none;">
                            <li><a href="#" >Home</a></li>
                            <li><a href="#" >About</a></li>
                            <li><a href="#" >Contact</a></li>
                        </ul>
                    </div>
                </div>
            </div>  
            <p id="allproducts" class="product" onclick="allProducts();" ><span>All products</span></p>
            <p id="mostproducts" class="product" onclick="mostPolular();" ><span>Most polular</span></p>
            <br/>
            <div class="line1"></div>
            <div class="line2"></div>
            <div class="line3"></div>
            <div class="maindata"></div>
        </div>
    </div>
    <div class="tbdata" style="display: none;">
        <table class="tb">
            <thead>
                <tr>
                    <th style="width:60px"><input type="checkbox" onclick="checkAll(this);"/></th>
                    <th>Product</th>
                    <th>Type</th>
                    <th>Inventory</th>
                    <th>Price</th>
                </tr>
            </thead>
        </table>
    </div>
    <div class="detail" style="display: none;">
        <div class="projectdetail"  >
            <div style="text-align: center;">
                <h2><label>Project Detail</label></h2>
            </div>
            <div >
                <label for="ProjName">Project Name</label>
                <input type="text" id="ProjName" name="ProjName" readonly />
            </div>
            <div >
                <label for="ProjType">Project Type</label>
                <input type="text" id="ProjType" name="ProjType" readonly />
            </div>
            <div >
                <label for="Inventory">Inventory</label>
                <input type="text" id="Inventory" name="Inventory" readonly />
            </div>
            <div >
                <label for="Price">Price</label>
                <input type="text" id="Price" name="Price" readonly />
            </div>
            <div style="text-align:center;margin-top: 50px;">
                <input type="button" value="Back" onclick="closedetail();"/>
            </div>
        </div> 
    </div>
</body>
</html>